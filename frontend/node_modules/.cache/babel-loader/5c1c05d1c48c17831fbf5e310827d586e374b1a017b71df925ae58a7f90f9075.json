{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tejas\\\\OneDrive\\\\Desktop\\\\stock_market\\\\frontend\\\\src\\\\Components\\\\ticker.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Chart from 'react-apexcharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst proxy = \"https://cors-anywhere.herokuapp.com/\";\nconst apiUrl = \"https://query1.finance.yahoo.com/v8/finance/chart/AAPL?symbol=AAPL&period1=1634841000&period2=1660501800&useYfid=true&interval=1d&includePrePost=true&events=div%7Csplit%7Cearn&lang=en-US&region=US&crumb=m%2FlQLK.F88U&corsDomain=finance.yahoo.com\";\nconst reddit = \"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=AAPL&interval=1min&apikey=Q9B5DSCXOI33L4CV.\";\nconst newUrl = `${proxy}${reddit}`;\nexport default function Ticker(props) {\n  _s();\n  const [price, setPrice] = useState(0);\n  const [series, setSeries] = useState([{\n    data: []\n  }]);\n  async function fetchPrice() {\n    try {\n      const response = await fetch(`http://localhost:8081/stock?symbol=${props.name}`);\n      const data = await response.json();\n      return data.stockData;\n    } catch (error) {\n      console.log(error);\n      return null;\n    }\n  }\n  useEffect(() => {\n    let timeoutId;\n    async function getLatestPrice() {\n      try {\n        const data = await fetchPrice();\n        const stock = data;\n        console.log(stock);\n        setPrice(stock.meta.regularMarketPrice.toFixed(2));\n        const quote = stock.indicators.quote[0];\n        const prices = stock.timestamp.slice(-200) // Get the last 100 data points\n        .map((timestamp, index) => ({\n          x: new Date(timestamp * 1000),\n          y: [quote.open[index], quote.high[index], quote.low[index], quote.close[index]]\n        }));\n        setSeries([{\n          data: prices\n        }]);\n      } catch (error) {\n        console.log(error);\n      }\n      timeoutId = setTimeout(getLatestPrice, 5000 * 2);\n    }\n    getLatestPrice();\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [props.name]);\n  const chart = {\n    options: {\n      chart: {\n        type: 'candlestick',\n        height: 350\n      },\n      title: {\n        text: 'CandleStick Chart',\n        align: 'left',\n        style: {\n          color: '#ffffff' // Set the font color to white\n        }\n      },\n\n      xaxis: {\n        type: 'datetime'\n      },\n      yaxis: {\n        tooltip: {\n          enabled: true\n        },\n        labels: {\n          style: {\n            colors: ['#ffffff'] // Set the font color of the y-axis labels to white\n          }\n        }\n      }\n    },\n\n    series: series\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [props.name, price, /*#__PURE__*/_jsxDEV(Chart, {\n      options: chart.options,\n      series: chart.series,\n      type: \"candlestick\",\n      width: \"100%\",\n      height: 320\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(Ticker, \"b7/WuEcKg09c7DW2ve707VMCiI0=\");\n_c = Ticker;\nvar _c;\n$RefreshReg$(_c, \"Ticker\");","map":{"version":3,"names":["React","useState","useEffect","Chart","jsxDEV","_jsxDEV","proxy","apiUrl","reddit","newUrl","Ticker","props","_s","price","setPrice","series","setSeries","data","fetchPrice","response","fetch","name","json","stockData","error","console","log","timeoutId","getLatestPrice","stock","meta","regularMarketPrice","toFixed","quote","indicators","prices","timestamp","slice","map","index","x","Date","y","open","high","low","close","setTimeout","clearTimeout","chart","options","type","height","title","text","align","style","color","xaxis","yaxis","tooltip","enabled","labels","colors","children","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/tejas/OneDrive/Desktop/stock_market/frontend/src/Components/ticker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Chart from 'react-apexcharts';\r\n\r\nconst proxy = \"https://cors-anywhere.herokuapp.com/\";\r\nconst apiUrl = \"https://query1.finance.yahoo.com/v8/finance/chart/AAPL?symbol=AAPL&period1=1634841000&period2=1660501800&useYfid=true&interval=1d&includePrePost=true&events=div%7Csplit%7Cearn&lang=en-US&region=US&crumb=m%2FlQLK.F88U&corsDomain=finance.yahoo.com\";\r\nconst reddit = \"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=AAPL&interval=1min&apikey=Q9B5DSCXOI33L4CV.\";\r\nconst newUrl = `${proxy}${reddit}`;\r\n\r\nexport default function Ticker(props) {\r\n  const [price, setPrice] = useState(0);\r\n  const [series, setSeries] = useState([{ data: [] }]);\r\n\r\n  async function fetchPrice() {\r\n    try {\r\n      const response = await fetch(`http://localhost:8081/stock?symbol=${props.name}`);\r\n      const data = await response.json();\r\n      return data.stockData;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let timeoutId;\r\n\r\n    async function getLatestPrice() {\r\n      try {\r\n        const data = await fetchPrice();\r\n        const stock = data;\r\n        console.log(stock)\r\n        setPrice(stock.meta.regularMarketPrice.toFixed(2));\r\n        const quote = stock.indicators.quote[0];\r\n        const prices = stock.timestamp\r\n          .slice(-200) // Get the last 100 data points\r\n          .map((timestamp, index) => ({\r\n            x: new Date(timestamp * 1000),\r\n            y: [quote.open[index], quote.high[index], quote.low[index], quote.close[index]]\r\n          }));\r\n        setSeries([{ data: prices }]);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      timeoutId = setTimeout(getLatestPrice, 5000 * 2);\r\n    }\r\n\r\n    getLatestPrice();\r\n\r\n    return () => {\r\n      clearTimeout(timeoutId);\r\n    };\r\n  }, [props.name]);\r\n\r\n  const chart = {\r\n    options: {\r\n      chart: {\r\n        type: 'candlestick',\r\n        height: 350\r\n      },\r\n      title: {\r\n        text: 'CandleStick Chart',\r\n        align: 'left',\r\n        style: {\r\n          color: '#ffffff' // Set the font color to white\r\n        }\r\n      },\r\n      xaxis: {\r\n        type: 'datetime'\r\n      },\r\n      yaxis: {\r\n        tooltip: {\r\n          enabled: true\r\n        },\r\n        labels: {\r\n          style: {\r\n            colors: ['#ffffff'] // Set the font color of the y-axis labels to white\r\n          }\r\n        }\r\n      }\r\n    },\r\n    series: series\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {props.name}\r\n      {price}\r\n      <Chart options={chart.options} series={chart.series} type=\"candlestick\" width=\"100%\" height={320} />\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}